
@{
	ViewBag.Title = "PCDashboard";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
	/* Freeze only the calendar icon area */
	.calendar-freeze,
	.calendar-freeze * {
		pointer-events: none !important;
		opacity: 0.5 !important;
		cursor: not-allowed !important;
	}
</style>

<!-- page title -->
<div class="pagetitle gap-bottom d-flex justify-content-between">
	<h1 class="m-0 d-flex ">
		PC Dashboard<div class="ml-2">
			<svg data-toggle="tooltip" title="This page shows list of all the Purchase Orders" width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_423_173595)"><path d="M10.0001 18.3334C14.6025 18.3334 18.3334 14.6025 18.3334 10.0001C18.3334 5.39771 14.6025 1.66675 10.0001 1.66675C5.39771 1.66675 1.66675 5.39771 1.66675 10.0001C1.66675 14.6025 5.39771 18.3334 10.0001 18.3334Z" stroke="#25282B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10 13.3333V10" stroke="#25282B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M10 6.66675H10.0083" stroke="#25282B" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_423_173595"><rect width="20" height="20" fill="white"></rect></clipPath></defs></svg>

		</div>
	</h1>
	<div class="align-self-center heading-action-btn w-100-slt primary-color-slt">

	</div>
</div>
<!--  -->

<div id="dynamic_fms">

</div>


<div id="view_dynamic_fms">

</div>


<div class="secondary-light-bg third-container">
	<div class="row table-filter">
		@*<div class="col-lg-2 col-md-3 col-sm-3 form-group">
				<label for="role">Status </label>
				<select class="form-control applyselect">
					<option>All</option>
					<option>All</option>
					<option>Approved</option>
					<option>Pending</option>
					<option>Rejected</option>
				</select>
			</div>*@

		@*<div class="col-lg-2 col-md-3 col-sm-3 form-group">
				<label for="role">Item </label>
				<select class="form-control applyselect" id="ddlItem">
				</select>
			</div>*@
		<div class="col-lg-2 col-md-3 col-sm-3 form-group" style="display: none;">
			<label for="role">Chemist Name </label>
			<select class="form-control applyselect" id="ddlChemist">
			</select>
		</div>

		<div class="col-lg-2 col-md-3 col-sm-3 form-group" style="display: none;">
			<label for="role">Customer Name </label>
			<select class="form-control applyselect" id="ddlCustomer">
			</select>
		</div>

		<div class="col-lg-2 col-md-3 col-sm-3 form-group" style="display: none;">
			<label for="role">Sample Type </label>
			<select class="form-control applyselect" id="ddlSampleType">
			</select>
		</div>

		<div class="col-lg-2 col-md-3 col-sm-3 form-group">
			<label for="role">FMS</label>
			<select class="form-control applyselect" id="ddlFMS" onchange="bindDynamicAgGrid()">
			</select>
		</div>

		<div class="col-lg-7 ml-auto col-md-9 col-sm-9 form-group align-self-end">
			<div class="d-flex align-items-center align-self-center gap-10 justify-content-end  ">
				<div class="box box-col-3 box-col-5 box-shadow  d-flex align-items-center box-half-p align-self-center gap-10 ">
					<div class="box-img"><img src="../assets/images/icons/help/box-icon/pending-tasks-icon.png" class="icon-md" /> </div>
					<div class="box-titles">Pending Tasks</div>
					<div class="box-number fn-bold" id="pendingTasksCount">0</div>
				</div>

				<div class="box box-col-3 box-col-5 box-shadow box-half-p  d-flex align-items-center align-self-center gap-10 ">
					<div class="box-img"><img src="../assets/images/icons/help/box-icon/delayed-tasks-icon.png" class="icon-md" /> </div>
					<div class="box-titles">Delayed Tasks</div>
					<div class="box-number fn-bold" id="delayedTasksCount">0</div>
				</div>


			</div>

		</div>

		<div class="col-sm-2 ml-auto form-group align-self-end">
			<div class="d-flex gap-5 justify-content-end ">
				<a href="#" class="btn border-r-8" data-toggle="tooltip" id="exportExcel" title="Download Excel Report"><img src="~/assets/images/icons/help/filter/download-icon.svg" class="btn-icon m-0"></a>
				<div class="searchbox w-350">

					<div class="search w-300">
						<label class="icon" for="globalSearch"><img src="../../assets/images/icons/help/search-icon.png" class="icon-sm"></label>
						<input type="text" id="globalSearch" class="form-control d-inline-block" placeholder="Global Search...">
					</div>

				</div>
			</div>

		</div>




		@*<div class="col-lg-2 col-md-3 col-sm-3 form-group">
				<label for="role">Tasks</label>
				<div class="filterdgn">
					<input type="text" class="filter-input" id="txtSampleId"
						   placeholder="Search"> <label for="search" class="m-0">
						<img src="~/assets/images/icons/help/search-icon.png"
							 class="filtersearchincon" />
					</label>
				</div>
			</div>*@



	</div>
	<!--  -->
	<!--<div class="table-responsive">
		<table id="sampleStep234" class="display rstable dgntable dataTable no-footer">
			<thead>
				<tr>-->
	@*<th width="60">Serial No.</th>*@
	<!--<th width="150">Sample Id</th>
	<th width="80">Created <span class="d-block">On</span></th>
	<th width="130">Sales <span class="d-block">Person</span></th>
	<th width="130">Customer <span class="d-block">Name</span></th>
	<th width="150">Item Name</th>
	b <th width="150">Sample <span class="d-block">Type</span></th>
	<th width="130">Assigned <span class="d-block">Chemist</span></th>
	<th width="120">Task No. <span class="d-block">Task Description</span></th>
	<th width="150">Dispatch Status</th>-->
	@*<th width="150">Modification ID</th>*@
	<!--<th width="80">Planned <span class="d-block">Date</span></th>
		<th width="50">Delay <span class="d-block">(Hr)</span></th>
		<th width="60">Action</th>

	</tr>

	<tr class="searchfilter">-->
	@*<th></th>*@
	<!--<th>
		<div class="filterdgn">
			<input type="text" class="filter-input" id="txtSampleId"
				   placeholder="Search"> <label for="search" class="m-0">
				<img src="~/assets/images/icons/help/search-icon.png"
					 class="filtersearchincon" />
			</label>
		</div>
	</th>

	<th></th>
	<th></th>
	<th></th>
	<th>
		<div class="filterdgn">
			<input type="text" class="filter-input" id="txtItemName"
				   placeholder="Search"> <label for="search" class="m-0">
				<img src="~/assets/images/icons/help/search-icon.png"
					 class="filtersearchincon" />
			</label>
		</div>
	</th>
	<th></th>
	<th></th>
	<th></th>
	<th></th>-->
	@*<th></th>*@
	<!--<th></th>
					<th></th>
					<th></th>
				</tr>

			</thead>

		</table>
	</div>-->
	<!--  -->

	<div class="grid-wrapper" style="padding-top: 40px">
		<div id="myGrid" class="ag-theme-alpine agrid-dgn" style="height: 600px"></div>
	</div>

</div>


<div id="yourModalContainer"></div>
<!-- confirmation Modal popup -->
<div class="modal" id="deletepopup">
	<div class="modal-dialog modal-dialog-centered modal-default">
		<div class="modal-content ">



			<!-- Modal body -->
			<div class="modal-body">
				<div class="warningmsg">
					<img src="../../assets/images/icons/help/warning-icon.svg" class="warningicon">
					<h6 class="text-center">Delete SHL-24-01422	 </h6>
					<span class="d-block">Dispatch Sample</span>

				</div>
			</div>

			<!-- Modal footer -->
			<div class="modal-footer">
				<button type="button" class="btn btn-lg cancelbtn radius-24" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-lg actionbtn radius-24" data-dismiss="modal">Delete</button>
			</div>

		</div>
	</div>
</div>


<!-- reassign Modal popup -->
<div class="modal" id="reassign">
	<div class="modal-dialog modal-dialog-centered modal-default">
		<div class="modal-content ">



			<!-- Modal body -->
			<div class="modal-body">
				<div class="warningmsg">
					<img src="../../assets/images/icons/help/warning-icon.svg" class="warningicon">
					<h6 class="text-center">Reassign Task </h6>
					<span class="d-block">Are you sure you want this task to get reassigned to someone else?</span>

				</div>
			</div>

			<!-- Modal footer -->
			<div class="modal-footer">
				<button type="button" class="btn btn-lg cancelbtn radius-24" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-lg actionbtn radius-24" data-dismiss="modal">Reassign</button>
			</div>

		</div>
	</div>
</div>



@*v--------- View image model-------------*@
<div id="viewimage" class="modal fade" role="dialog">
	<div class="modal-dialog">

		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">Q1</h4>
				<button type="button" class="close" data-dismiss="modal"><img src="~/assets/images/icons/help/close-icon.png" class="closeicon"></button>

			</div>
			<div class="modal-body">
				<div class="imgprvw">

					<img id="myImage" src="img/login-img.jpg" />
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
			</div>
		</div>

	</div>
</div>





<div id="fileLimitPopup" class="popup-modal">
	<div class="popup-content">
		<p id="popup-message"></p>
		<button id="close-popup"><img src="~/assets/images/icons/help/close.svg" alt=""></button>
	</div>
</div>





<div class="modal fade drawer right-align" id="technicalDocStep2" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header side-header justify-content-between d-flex">
				<h2>Step 1 - Upload Documents</h2>
				<img src="../assets/images/icons/help/close-white-icon.png" class="cursor-pointer align-self-center close" data-dismiss="modal" onclick="RedirectUrl()" />
			</div>
			<div class="modal-body mb-100">
				<!-- open -->
				<div class="row">
					<div class="col-sm-12 form-group">
						<label>Upload Document</label>
						<div class="section-container section-container-popup">
							<div class="fileuploadview drag-area2">
								<div class="uploadicon_text file-input-button" id="fileInputButton2">
									<div class="uploadicon">
										<img src="~/assets/images/icons/help/fileupload-icon.svg" alt="">
									</div>
									<div class="uploadtext drag-file" id="dragFile2">
										<h4>Drop files here or click to upload</h4>
										<h6>This is a dropzone, drop files or click to browse</h6>
										<span class="error">The file size should be upto 2MB,<br /> with a maximum of 10 attachments.</span>
									</div>
								</div>
								<input type="file" id="fileRefDocStep2" class="file-input hidden" multiple />
								<div id="documentImages2" class="document-images"></div>
							</div>
						</div>
					</div>

				</div>

				<div class="col-sm-12 form-group">
					<label class="text-muted mb-0">Type Of Document </label>
					<p id="edit_doc"></p>
				</div>

				<div class="col-sm-12 form-group">
					<div class="toggle-card bg-bgl">
						<div class="toggle-card-header toggle-info">
							<h4 class="toggle-card-title">Item Information</h4>
							<span class="toggle-card-icon"><img src="/assets/images/icons/help/arrow-down.png" class="icon-sm" alt=""></span>
						</div>
						<div class="toggle-containe toggle-info-content" style="display: none;">
							<div class="row">
								<div class="col-sm-12 form-group ">
									<label class="text-gray mb-0">Item Name</label>
									<p id="txtItem1"></p>
								</div>

								<div class="col-sm-12 form-group" id="formView1">
									<label class="text-gray mb-0">Formulation Category</label>
									<p id="txtFormCate1"></p>
								</div>

								<div class="col-sm-12 form-group" id="fragView1" style="display: none;">
									<label class="text-gray mb-0">Fragrance</label>
									<p id="txtFragrance1"></p>
								</div>

								<div class="col-sm-12 form-group" id="colorView1" style="display: none;">
									<label class="text-gray mb-0">Colour</label>
									<p id="txtColour1"></p>
								</div>

								<div class="col-sm-12 form-group" id="packegingView1" style="display: none;">
									<label class="text-gray mb-0">Packaging Type</label>
									<p id="txtPackegingType1"></p>
								</div>


								<div class="col-sm-12 form-group">
									<label class="text-gray mb-0">Target Price (₹)</label>
									<p id="txtTargetPrice1"></p>
								</div>


								<div class="col-sm-12 form-group">
									<label class="text-gray mb-0">Requirement/Description</label>
									<p id="requirements1"></p>
								</div>


								<div class="col-sm-12 form-group" id="viewMust1" style="display: none;">
									<label class="text-gray mb-0">Must have ingredients</label>
									<p id="mustIngredients1"></p>
								</div>


								<div class="col-sm-12 form-group" id="viewMustNot1" style="display: none;">
									<label class="text-gray mb-0">Must not have ingredients</label>
									<p id="mustnotingredients1"></p>
								</div>


								<div class="col-sm-12 form-group" id="viewAtt1">
									<label class="text-gray mb-0">Attachment</label>
									<p><a href="" target="blank" id="item_att1"></a></p>
								</div>

							</div>
						</div>

					</div>
				</div>





				<div class="side-footer">
					<button id="btnSave" type="button" class="btn  btn-lg  actionbtn" onclick="SaveTechnicalDocStep2()">Submit</button>

				</div>
				<!-- End -->

			</div>
		</div>
	</div>
</div>
@*Ag Grid Scripts Start*@
<link href="~/css/Aggrid/Aggrid1.css" rel="stylesheet" />
<link href="~/css/Aggrid/Aggrid2.css" rel="stylesheet" />
<link href="~/css/aggrid/ag-grid.css" rel="stylesheet" />
<link href="~/css/aggrid/ag-theme-alpine.css" rel="stylesheet" />
<script src="~/CommonJS/AgGrid/dist_aggrid_community.js"></script>
<script src="~/CommonJS/AgGrid/aggridCom.min.js"></script>
<script src="~/CommonJS/AgGrid/autotable.umd.min.js"></script>
<script src="~/assets/js/jquery.dataTables.min.js"></script>
<script src="~/CommonJS/AgGrid/jspdf.umd.min.js"></script>
<script src="~/CommonJS/AgGrid/libs.umd.min.js"></script>
<script src="~/assets/js/jquery.dataTables.min.js"></script>
<script src="~/CommonJS/GenericAgGrid.js"></script>

@*Ag Grid Scripts End*@
<script>
    var isDispatch = "@ViewBag.isDispatch";
</script>
<script src="~/Areas/ManageSample/DevScript/OTDFMSPC.js"></script>
<script src="~/Areas/ManageOrder/DevScript/fileupload1.js"></script>
<script src="~/Areas/ManageOrder/DevScript/fileupload2.js"></script>
<script src="~/Areas/ManageOrder/DevScript/fileupload3.js"></script>
<script src="~/Areas/ManageSample/DevScript/PcDashboard.js"></script>
<script src="~/Areas/MaterialManagement/DevScript/fileupload_Material.js"></script>



<script>
	function OnChangeCheckBox(ctrl) {
		if ($(ctrl).is(':checked')) {
			document.getElementById('divMicrobiologyTests').style.display = 'block';
		} else {
			document.getElementById('divMicrobiologyTests').style.display = 'none';
		}
	}
</script>
<script>
	// One-time global handler
	$(document).on('click', '.toggle-card-header', function () {
		const $header = $(this);
		const $panel = $header
			.closest('.toggle-card')
			.children('.toggle-containe, .toggle-container, .toggle-info-content')
			.first();
		$panel.stop(true, true).slideToggle(180);
		$header.toggleClass('is-open');
		$header.find('.toggle-card-icon img').toggleClass('rot'); // optional arrow rotate
	});
</script>

